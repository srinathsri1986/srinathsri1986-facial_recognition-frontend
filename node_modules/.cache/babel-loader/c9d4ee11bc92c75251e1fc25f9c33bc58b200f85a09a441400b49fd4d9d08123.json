{"ast":null,"code":"var _jsxFileName = \"/var/www/html/facial_recognition/frontend/src/components/HRScheduleMeeting.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport \"./HRScheduleMeeting.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = \"http://141.148.219.190:8000\";\nconst HRScheduleMeeting = ({\n  candidate,\n  candidateId,\n  onClose\n}) => {\n  _s();\n  const [dateTime, setDateTime] = useState(\"\");\n  const hrEmail = sessionStorage.getItem(\"hrEmail\") || localStorage.getItem(\"hr_email\");\n\n  // ‚úÖ Ensure candidate ID is correctly set\n  const actualCandidateId = (candidate === null || candidate === void 0 ? void 0 : candidate.id) || candidateId;\n  if (!actualCandidateId) {\n    console.error(\"‚ùå Candidate ID is missing.\");\n    alert(\"Candidate ID is missing. Please try again.\");\n    return null;\n  }\n  const handleSubmit = async () => {\n    if (!candidate.email) {\n      alert(\"‚ùå Candidate email is missing!\");\n      return;\n    }\n    if (!hrEmail) {\n      alert(\"‚ùå HR email not found. Please log in again.\");\n      return;\n    }\n    if (!dateTime) {\n      alert(\"‚ùå Please select a valid date and time.\");\n      return;\n    }\n    const formData = new URLSearchParams();\n    formData.append(\"candidate_id\", actualCandidateId);\n    formData.append(\"candidate_email\", candidate.email);\n    formData.append(\"interviewer_email\", hrEmail);\n    formData.append(\"start_time\", new Date(dateTime).toISOString());\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/hr/meetings/schedule/`, {\n        method: \"POST\",\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: formData\n      });\n      const data = await response.json();\n      console.log(\"‚úÖ API Response:\", data);\n      if (data.success) {\n        alert(`üéâ Meeting Scheduled Successfully!\\nMeeting Link: ${data.meeting_link}`);\n        setDateTime(\"\"); // ‚úÖ Clear input field\n        onClose(); // ‚úÖ Close the modal only on success\n      } else {\n        alert(`‚ö†Ô∏è Failed to schedule meeting: ${JSON.stringify(data)}`);\n      }\n    } catch (error) {\n      console.error(\"‚ùå Error scheduling meeting:\", error);\n      alert(\"An error occurred while scheduling the meeting.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"schedule-tray\",\n    initial: {\n      y: \"100%\"\n    },\n    animate: {\n      y: 0\n    },\n    exit: {\n      y: \"100%\"\n    },\n    transition: {\n      type: \"spring\",\n      stiffness: 100\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Schedule Meeting\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Candidate:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 10\n      }, this), \" \", candidate.first_name, \" \", candidate.last_name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Email:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 10\n      }, this), \" \", candidate.email]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"datetime-local\",\n      value: dateTime,\n      onChange: e => setDateTime(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"\\u2705 Schedule\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      className: \"close-btn\",\n      children: \"\\u274C Close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n// ‚úÖ Ensure this is at the very bottom\n_s(HRScheduleMeeting, \"GBUTngQDF2Bgn5Z6G1K2Ivk7bZQ=\");\n_c = HRScheduleMeeting;\nexport default HRScheduleMeeting;\nvar _c;\n$RefreshReg$(_c, \"HRScheduleMeeting\");","map":{"version":3,"names":["React","useState","motion","jsxDEV","_jsxDEV","API_BASE_URL","HRScheduleMeeting","candidate","candidateId","onClose","_s","dateTime","setDateTime","hrEmail","sessionStorage","getItem","localStorage","actualCandidateId","id","console","error","alert","handleSubmit","email","formData","URLSearchParams","append","Date","toISOString","response","fetch","method","headers","body","data","json","log","success","meeting_link","JSON","stringify","div","className","initial","y","animate","exit","transition","type","stiffness","children","fileName","_jsxFileName","lineNumber","columnNumber","first_name","last_name","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["/var/www/html/facial_recognition/frontend/src/components/HRScheduleMeeting.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport \"./HRScheduleMeeting.css\";\n\nconst API_BASE_URL = \"http://141.148.219.190:8000\"; \n\nconst HRScheduleMeeting = ({ candidate, candidateId, onClose }) => {\n  const [dateTime, setDateTime] = useState(\"\");\n  const hrEmail = sessionStorage.getItem(\"hrEmail\") || localStorage.getItem(\"hr_email\");\n\n  // ‚úÖ Ensure candidate ID is correctly set\n  const actualCandidateId = candidate?.id || candidateId;\n  if (!actualCandidateId) {\n    console.error(\"‚ùå Candidate ID is missing.\");\n    alert(\"Candidate ID is missing. Please try again.\");\n    return null;\n  }\n\n  const handleSubmit = async () => {\n    if (!candidate.email) {\n      alert(\"‚ùå Candidate email is missing!\");\n      return;\n    }\n    if (!hrEmail) {\n      alert(\"‚ùå HR email not found. Please log in again.\");\n      return;\n    }\n    if (!dateTime) {\n      alert(\"‚ùå Please select a valid date and time.\");\n      return;\n    }\n\n    const formData = new URLSearchParams();\n    formData.append(\"candidate_id\", actualCandidateId);\n    formData.append(\"candidate_email\", candidate.email);\n    formData.append(\"interviewer_email\", hrEmail);\n    formData.append(\"start_time\", new Date(dateTime).toISOString());\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/hr/meetings/schedule/`, {\n        method: \"POST\",\n        headers: {\n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        body: formData\n      });\n\n      const data = await response.json();\n      console.log(\"‚úÖ API Response:\", data);\n\n      if (data.success) {\n        alert(`üéâ Meeting Scheduled Successfully!\\nMeeting Link: ${data.meeting_link}`);\n        setDateTime(\"\");  // ‚úÖ Clear input field\n        onClose();  // ‚úÖ Close the modal only on success\n      } else {\n        alert(`‚ö†Ô∏è Failed to schedule meeting: ${JSON.stringify(data)}`);\n      }\n    } catch (error) {\n      console.error(\"‚ùå Error scheduling meeting:\", error);\n      alert(\"An error occurred while scheduling the meeting.\");\n    }\n  };\n\n  return (\n    <motion.div\n      className=\"schedule-tray\"\n      initial={{ y: \"100%\" }}\n      animate={{ y: 0 }}\n      exit={{ y: \"100%\" }}\n      transition={{ type: \"spring\", stiffness: 100 }}\n    >\n      <h2>Schedule Meeting</h2>\n      <p><strong>Candidate:</strong> {candidate.first_name} {candidate.last_name}</p>\n      <p><strong>Email:</strong> {candidate.email}</p>\n      <input type=\"datetime-local\" value={dateTime} onChange={(e) => setDateTime(e.target.value)} />\n      <button onClick={handleSubmit}>‚úÖ Schedule</button>\n      <button onClick={onClose} className=\"close-btn\">‚ùå Close</button>\n    </motion.div>\n  );\n};\n\n// ‚úÖ Ensure this is at the very bottom\nexport default HRScheduleMeeting;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}